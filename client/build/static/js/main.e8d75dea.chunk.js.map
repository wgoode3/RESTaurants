{"version":3,"sources":["logo.svg","Components/AllRestautants.jsx","Components/NewRestaurant.jsx","Components/EditRestaurant.jsx","Components/ShowStars.jsx","Components/OneRestaurant.jsx","App.js","reportWebVitals.js","index.js"],"names":["AllRestautants","props","useState","all","setAll","q","setQ","getAll","axios","get","then","res","console","log","restaurants","arr","i","length","j","avgRating","bubble","restaurant","reviews","push","total","rating","addAvgRatingsToRestaurants","data","catch","err","error","useEffect","className","type","placeholder","name","value","onChange","e","target","filter","r","toLowerCase","includes","map","rest","cuisine","yearEstablished","description","toFixed","to","_id","onClick","delete","NewRestaurant","setName","setCuisine","setYear","setDescription","errors","setErrors","onSubmit","preventDefault","post","navigate","message","EditRestaurant","put","ShowStars","Array","join","getAverageRating","prototype","reverseCopy","copy","this","reverse","OneRestaurant","setRestaurant","setRating","content","setContent","getRestaurant","newReview","rev","moment","createdAt","fromNow","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e8d75dea.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {useEffect, useState} from 'react'\nimport axios from 'axios';\nimport { Link } from '@reach/router';\n\n\nfunction bubble(restaurants) {\n  const arr = [...restaurants];\n  for(let i=0; i<arr.length; i++) {\n    for(let j=0; j<arr.length-i-1; j++) {\n      if(arr[j].avgRating < arr[j+1].avgRating) {\n        [arr[j], arr[j+1]] = [arr[j+1], arr[j]];\n      }\n    }\n  }\n  return arr;\n}\n\nfunction addAvgRatingsToRestaurants(restaurants) {\n  const arr = [];\n  for(let restaurant of restaurants) {\n    if(restaurant.reviews.length < 1) {\n      arr.push({...restaurant, avgRating: 0});\n      continue;\n    }\n    let total = 0;\n    for(let rev of restaurant.reviews) {\n      total += rev.rating;\n    }\n    arr.push({...restaurant, avgRating: total / restaurant.reviews.length});\n  }\n  return arr;\n} \n\nconst AllRestautants = props => {\n\n  const [all, setAll] = useState([]);\n  const [q, setQ] = useState(\"\");\n  \n  useEffect( () => {\n    getAll();\n  }, []);\n\n  function getAll() {\n    axios.get(\"http://localhost:8000/api/restaurants\")\n      .then(res => {\n        console.log(res);\n        setAll(\n          bubble(\n            addAvgRatingsToRestaurants(res.data)\n          )\n        );\n      }).catch(err => console.error(err));\n  }\n\n  const remove = _id => {\n    axios.delete(`http://localhost:8000/api/restaurants/${_id}`)\n      .then(res => {\n        console.log(res);\n        getAll();\n      }).catch(err => console.error(err));\n  }\n\n  return (\n    <div className=\"row my-3\">\n      <div className=\"col-sm-6 offset-sm-3\">\n        <input type=\"search\" placeholder=\"search\" name=\"q\" className=\"form-control my-3\" value={q} onChange={e => setQ(e.target.value)} />\n      </div>\n      {all.filter(r => r.name.toLowerCase().includes(q.toLowerCase())).length < 1 ? <p className=\"col-sm-12\">No results</p> : \"\"}\n      {all.filter(r => r.name.toLowerCase().includes(q.toLowerCase())).map( rest => \n        <div className=\"col-sm-12\" key={rest._id}>\n          <div className=\"card mt-3\">\n            <div className=\"card-header bg-dark text-light\">{rest.name}</div>\n            <div className=\"card-body\">\n              <p>Cuisine: {rest.cuisine}</p>\n              <p>Year Established: {rest.yearEstablished}</p>\n              <p>Description: {rest.description}</p>\n              <p>Average Rating: {rest.avgRating ? rest.avgRating.toFixed(1) : \"no reviews yet :(\"}</p>\n              <div className=\"d-flex justify-content-between\">\n                <Link to={`/view/${rest._id}`} className=\"btn btn-outline-success\">View</Link>\n                <Link to={`/edit/${rest._id}`} className=\"btn btn-outline-info\">Edit</Link>\n                <button className=\"btn btn-outline-danger\" onClick={e => remove(rest._id)}>Remove</button>\n              </div>\n            </div>\n          </div>\n        </div>  \n      )}\n    </div>\n  )\n}\n\nexport default AllRestautants\n","import React, { useState } from 'react'\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\n\nconst NewRestaurant = props => {\n\n  const [name, setName] = useState(\"\");\n  const [cuisine, setCuisine] = useState(\"\");\n  const [yearEstablished, setYear] = useState(2000);\n  const [description, setDescription] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const add = e => {\n    e.preventDefault();\n    const rest = {name, cuisine, yearEstablished, description};\n    axios.post(\"http://localhost:8000/api/restaurants\", rest)\n      .then(res => {\n        console.log(res);\n        if(res.data.errors) {\n          setErrors(res.data.errors);\n        } else {\n          navigate(\"/\");\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n  }\n\n  return (\n    <div className=\"row my-5\">\n      <div className=\"col-sm-8 offset-sm-2\">\n        <div className=\"card\">\n          <div className=\"card-header bg-dark text-light\">Add Restaurant</div>\n          <div className=\"card-body\">\n            <form onSubmit={add}>\n              <div className=\"form-group\">\n                <label>Name:</label>\n                <input type=\"text\" className=\"form-control\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\n                <p className=\"text-danger\">{errors.name ? errors.name.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Cuisine:</label>\n                <input type=\"text\" className=\"form-control\" name=\"cuisine\" value={cuisine} onChange={e => setCuisine(e.target.value)} />\n                <p className=\"text-danger\">{errors.cuisine ? errors.cuisine.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Year Established:</label>\n                <input type=\"number\" className=\"form-control\" name=\"yearEstablished\" value={yearEstablished} onChange={e => setYear(e.target.value)}  />\n                <p className=\"text-danger\">{errors.yearEstablished ? errors.yearEstablished.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Description:</label>\n                <textarea name=\"description\" className=\"form-control\" value={description} onChange={e => setDescription(e.target.value)} ></textarea>\n                <p className=\"text-danger\">{errors.description ? errors.description.message: ''}</p>\n              </div>\n              <input type=\"submit\" value=\"Add Restaurant\" className=\"btn btn-info btn-block\" />\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NewRestaurant\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\n\n\nconst EditRestaurant = props => {\n\n  const [name, setName] = useState(\"\");\n  const [cuisine, setCuisine] = useState(\"\");\n  const [yearEstablished, setYear] = useState(2000);\n  const [description, setDescription] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  useEffect( () => {\n    console.log(props._id);\n    axios.get(`http://localhost:8000/api/restaurants/${props._id}`)\n      .then(res => {\n        console.log(res);\n        setName(res.data.name);\n        setCuisine(res.data.cuisine);\n        setYear(res.data.yearEstablished);\n        setDescription(res.data.description);\n      }).catch(err => console.error(err));\n  }, [props._id]);\n\n  const update = e => {\n    e.preventDefault();\n    const rest = {name, cuisine, yearEstablished, description};\n    axios.put(`http://localhost:8000/api/restaurants/${props._id}`, rest)\n      .then(res => {\n        console.log(res);\n        if(res.data.errors) {\n          setErrors(res.data.errors);\n        } else {\n          navigate(\"/\");\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n  }\n\n  return (\n    <div className=\"row my-5\">\n      <div className=\"col-sm-8 offset-sm-2\">\n        <div className=\"card\">\n          <div className=\"card-header bg-dark text-light\">Update Restaurant</div>\n          <div className=\"card-body\">\n            <form onSubmit={update}>\n              <div className=\"form-group\">\n                <label>Name:</label>\n                <input type=\"text\" className=\"form-control\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\n                <p className=\"text-danger\">{errors.name ? errors.name.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Cuisine:</label>\n                <input type=\"text\" className=\"form-control\" name=\"cuisine\" value={cuisine} onChange={e => setCuisine(e.target.value)} />\n                <p className=\"text-danger\">{errors.cuisine ? errors.cuisine.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Year Established:</label>\n                <input type=\"number\" className=\"form-control\" name=\"yearEstablished\" value={yearEstablished} onChange={e => setYear(e.target.value)}  />\n                <p className=\"text-danger\">{errors.yearEstablished ? errors.yearEstablished.message: ''}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Description:</label>\n                <textarea name=\"description\" className=\"form-control\" value={description} onChange={e => setDescription(e.target.value)} ></textarea>\n                <p className=\"text-danger\">{errors.description ? errors.description.message: ''}</p>\n              </div>\n              <input type=\"submit\" value=\"Update Restaurant\" className=\"btn btn-info btn-block\" />\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EditRestaurant;\n","import React from 'react';\n\nfunction ShowStars(props) {\n  return (\n    <span>\n      {\n        Array(props.rating+1).join(\"★\")\n      }\n      {\n        Array(5-props.rating+1).join(\"☆\")\n      }\n    </span>\n  )\n}\n\nexport default ShowStars;","import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport ShowStars from './ShowStars';\nimport moment from 'moment';\n\n\n// const reverseCopy = arr => {\n//   const copy = [...arr];\n//   copy.reverse();\n//   return copy;\n// }\n\nArray.prototype.reverseCopy = function() {\n  const copy = [...this];\n  copy.reverse();\n  return copy;\n}\n\nfunction getAverageRating(reviews) {\n  if(reviews.length < 1) {\n    return \"no reviews yet :(\";\n  }\n  let total = 0;\n  for(let review of reviews) {\n    total += review.rating;\n  }\n  return (total / reviews.length).toFixed(1);\n}\n\nconst OneRestaurant = props => {\n\n  // needs a starting array value so the component doesn't crash before the axios.get\n  // we're going to be mapping through the reviews array\n  const [restaurant, setRestaurant] = useState({reviews: []});\n  const [name, setName] = useState(\"\");\n  const [rating, setRating] = useState(\"3\");\n  const [content, setContent] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    console.log(props._id);\n    getRestaurant();\n  }, [props._id]);\n\n  function getRestaurant() {\n    axios.get(`http://localhost:8000/api/restaurants/${props._id}`)\n    .then(res => {\n      console.log(res);\n      setRestaurant(res.data);\n    }).catch(err => console.error(err));\n  }\n\n  const leaveReview = e => {\n    e.preventDefault();\n    const newReview = {name, rating, content};\n    axios.post(`http://localhost:8000/api/restaurants/${props._id}/review`, newReview)\n      .then(res => {\n        console.log(res);\n        if(res.data.errors) {\n          setErrors(res.data.errors);\n        } else {\n          getRestaurant();\n          setErrors({});\n          setName(\"\");\n          setContent(\"\");\n          setRating(\"3\");\n        }\n      }).catch(err => console.error(err));\n  }\n\n  return (\n    <div className=\"row my-5\">\n      <div className=\"col-sm-6\">\n        <div className=\"card\">\n          <div className=\"card-header bg-dark text-light\">{restaurant.name}</div>\n          <div className=\"card-body\">\n            <p>Cuisine: {restaurant.cuisine}</p>\n            <p>Year Established: {restaurant.yearEstablished}</p>\n            <p>Description: {restaurant.description}</p>\n            {/* <p>Average rating: {\n              (restaurant.reviews.reduce( (total, rev) => total + rev.rating, 0) / restaurant.reviews.length).toFixed(1)\n            }</p> */}\n            <p>Average rating: { getAverageRating(restaurant.reviews) }</p>\n          </div>\n        </div>\n        <div className=\"card mt-3\">\n          <div className=\"card-header bg-dark text-light\">Reviews</div>\n          <div className=\"card-body\">\n            <form onSubmit={leaveReview}>\n              <div className=\"form-group\">\n                <label>Reviewer Name</label>\n                <input type=\"text\" className=\"form-control\" value={name} onChange={e => setName(e.target.value)} />\n                <p className=\"text-danger\">{errors.name ? errors.name.message : \"\"}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Rating</label>\n                <select className=\"form-control\" value={rating} onChange={e => setRating(e.target.value)}>\n                  <option value=\"1\">★☆☆☆☆</option>\n                  <option value=\"2\">★★☆☆☆</option>\n                  <option value=\"3\">★★★☆☆</option>\n                  <option value=\"4\">★★★★☆</option>\n                  <option value=\"5\">★★★★★</option>\n                </select>\n                <p className=\"text-danger\">{errors.rating ? errors.rating.message : \"\"}</p>\n              </div>\n              <div className=\"form-group\">\n                <label>Reviewer Text</label>\n                <textarea className=\"form-control\" value={content} onChange={e => setContent(e.target.value)}></textarea>\n                <p className=\"text-danger\">{errors.content ? errors.content.message : \"\"}</p>\n              </div>\n              <input type=\"submit\" value=\"Leave Review\" className=\"btn btn-primary\" />\n            </form>\n          </div>\n        </div>\n      </div>\n      <div className=\"col-sm-6\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item bg-dark text-light\">Reviews</li>\n          {restaurant.reviews.reverseCopy().map( rev => \n            <li className=\"list-group-item\" key={rev._id}>\n              <ShowStars rating={rev.rating} /><br/>\n              <strong>{rev.name} says: </strong> {rev.content} \n              <p>{moment(rev.createdAt).fromNow()}</p>\n            </li>  \n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default OneRestaurant;\n","import logo from './logo.svg';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Router, Link } from '@reach/router';\nimport AllRestaurants from './Components/AllRestautants';\nimport NewRestaurant from './Components/NewRestaurant';\nimport EditRestaurant from './Components/EditRestaurant';\nimport OneRestaurant from './Components/OneRestaurant';\n\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h1><span className=\"text-info\">REST</span>aurants</h1>\n      <Link to=\"/\" className=\"btn btn-outline-primary\">View All</Link> \n      <Link to=\"/new\" className=\"btn btn-outline-primary\">Add Restauraunt</Link> \n      <Router>\n        <AllRestaurants path=\"/\" />\n        <NewRestaurant path=\"/new\" />\n        <EditRestaurant path=\"/edit/:_id\" />\n        <OneRestaurant path=\"/view/:_id\" />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}